<?jelly escape-by-default='true'?>
<j:jelly xmlns:j="jelly:core" xmlns:st="jelly:stapler" xmlns:d="jelly:define" xmlns:sf="/lib/credentials" xmlns:l="/lib/layout" xmlns:t="/lib/hudson" xmlns:f="/lib/form">

    <f:section title="${%WindowsAzureStorage_title}" id="windows-azure-storage">
        <f:entry title="${%entry_title}" >
            <f:entry var="storageAccount" items="${descriptor.storageAccounts}" noAddButton="false" minimum="1">
                <table width="100%">
                    <f:entry title="" field="storageCredentialId" help="/plugin/windows-azure-storage/help-storageaccounts.html"> 
                        <div style="display: none; !important">
                            <sf:select class="display: none !important" expressionAllowed="false" />
                        </div>
                    </f:entry> 
                    <j:set var="storagePublisher" value="${app.getDescriptorByName('com.microsoftopentechnologies.windowsazurestorage.WaStoragePublisher.WAStorageDescriptor')}"/>
                    <j:set var="storageCreds" value="${instance.getStorageCredentials()}"/>
                </table>
                <div align="left" style="font-size:110%">
                    <j:forEach var="storageCred" items="${storageCreds}">
                        <ul style="list-style-type: none;">
                            <li>
                                <label>${storageCred}</label>
                            </li>
                        </ul>                
                    </j:forEach>
                </div>
                <div align="center"> 
                    <input type="button" class="yui-button yui-push-button" value="Add Storage Accounts" onclick="window.credentials.add()" /> 
                    <p>
                        <a href="credential-store/domain/_/">Manage Storage Accounts in Credential Store</a>
                    </p>
                </div>
            </f:entry> 	
        </f:entry>	
    </f:section>
</j:jelly>
